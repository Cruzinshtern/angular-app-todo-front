<div class="todo_list_component">
  <p *ngIf="isAdmin">Hello Admin</p>
<div class="table_header">
  <h3>Dear {{userName}}, welcome to the list of TODOS</h3>
</div>
  <input
    type="text"
    placeholder="Search todo.."
    [(ngModel)]="name"
    class="search_field"
  />
  <button
    type="button"
    (click)="searchButton()"
    class="search_button"
  >
    Search
  </button>

  <form
    [formGroup]="sortForm"
    (ngSubmit)="sortByStatus()"
    class="sort_form"
  >
    <label>Sort by:</label>
    <select formControlName="status">
      <option>In progress</option>
      <option>Done</option>
    </select>
    <button type="submit" [disabled]="!sortForm.valid">Sort todos</button>
  </form>

  <h3 routerLink="/form" class="redirect">ADD NEW TODO</h3>
  <table class="page_toggle">
    <tr>
      <td>
        <button *ngIf="prevIsActive" (click)="prevPage()">Previous</button>
      </td>
      <td>
        {{this.page+1}}
      </td>
      <td>
        <button *ngIf="nextIsActive" (click)="nextPage()">Next</button>
      </td>
    </tr>
  </table>
  <table class="table">
    <tr>
      <td
        (click)="sortByNameClick()"
        class="sortByName_button"
      >
        Name
        <span
          class="tooltipByName_text"
        >Sort by name</span>
      </td>
      <td (click)="sortByDescClick()">Description</td>
      <td>In Progress</td>
      <td>Done</td>
      <td>Other</td>
    </tr>
  </table>

<app-todo-item
  *ngFor="let todo of todos"
  [todo] = "todo"
></app-todo-item>
</div>

<app-todo-edit-modal></app-todo-edit-modal>


